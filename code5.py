import tkinter as tk
from tkinter import ttk, messagebox
from bidi.algorithm import get_display
import arabic_reshaper
import sqlite3
from tkinter import filedialog
import json  # برای مقایسه و انتقال داده‌های پیش‌فرض

# فایل ذخیره مواد اولیه پیش‌فرض (برای انتقال داده‌ها)
DEFAULT_MATERIALS_FILE = "materials_data.json"

# تابع برای اصلاح نمایش متن فارسی
def reshape_text(text):
    reshaped_text = get_display(arabic_reshaper.reshape(text))
    return reshaped_text

# اتصال به پایگاه داده SQLite
DB_FILE = "materials_data.db"

def init_db():
    conn = sqlite3.connect(DB_FILE)
    cursor = conn.cursor()
    # ایجاد جدول مواد اولیه
    cursor.execute("""
    CREATE TABLE IF NOT EXISTS materials (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        name TEXT UNIQUE NOT NULL,
        data TEXT NOT NULL
    )
    """)
    conn.commit()
    conn.close()

def save_material_to_db(name, material_data):
    conn = sqlite3.connect(DB_FILE)
    cursor = conn.cursor()
    cursor.execute("""
    INSERT OR REPLACE INTO materials (name, data)
    VALUES (?, ?)
    """, (name, json.dumps(material_data, ensure_ascii=False)))
    conn.commit()
    conn.close()

def delete_material_from_db(name):
    conn = sqlite3.connect(DB_FILE)
    cursor = conn.cursor()
    cursor.execute("DELETE FROM materials WHERE name = ?", (name,))
    conn.commit()
    conn.close()

def load_materials_from_db():
    conn = sqlite3.connect(DB_FILE)
    cursor = conn.cursor()
    cursor.execute("SELECT name, data FROM materials")
    rows = cursor.fetchall()
    conn.close()
    return {name: json.loads(data) for name, data in rows}

# اطلاعات مربوط به مواد اولیه
default_materials_data = {
  "کنجاله سویا": {
    "پروتئین خام (%)": 48,
    "لیپیدهای خام (%)": 1.5,
    "چربی خام (%)": 1.5,
    "فیبر خام (%)": 3.5,
    "خاکستر (%)": 6.5,
    "نشاسته (%)": 2.5,
    "انرژی ناخالص (kc/k)": 3100,
    "آرژنین (%)": 3.2,
    "لیزین (%)": 2.7,
    "متیونین (%)": 0.7,
    "کلسیم (%)": 0.3,
    "فسفر (%)": 0.65,
    "سدیم (%)": 0.02,
    "کلر (%)": 0,
    "پتاسیم (%)": 2.0,
    "منیزیم (%)": 0.35,
    "مس (mg/kg)": 20,
    "گوگرد (%)": 0.4,
    "آهن (mg/kg)": 100,
    "منگنز (mg/kg)": 30,
    "سلنیوم (mg/kg)": 0.2,
    "روی (mg/kg)": 60,
    "ید (mg/kg)": 0.5,
    "کبالت (mg/kg)": 0.1,
    "C (mg/kg)": 200,
    "B7 (mg/kg)": 0.1,
    "B9 (mg/kg)": 2.0,
    "B3 (mg/kg)": 30,
    "B5 (mg/kg)": 15,
    "B6 (mg/kg)": 5,
    "B2 (mg/kg)": 4,
    "B1 (mg/kg)": 3,
    "B12 (mg/kg)": 0.01,
    "A (IU/kg)": 5000,
    "D (IU/kg)": 2000,
    "E (mg/kg)": 50,
    "K (mg/kg)": 2,
    "کولین (mg/kg)": 2000,
    "اینوزیتول (mg/kg)": 1000,
    "مجموع n-3 (%)": 0.1,
    "جمع n-6 (%)": 2.8,
    "فسفولیپیدها (%)": 2.5,
    "کلسترول (mg/kg)": 100,
    },
    "پودر ماهی": {
    "پروتئین خام (%)": 65,
    "لیپیدهای خام (%)": 8,
    "چربی خام (%)": 8,
    "فیبر خام (%)": 0,
    "خاکستر (%)": 15,
    "نشاسته (%)": 0,
    "انرژی ناخالص (kc/k)": 4500,
    "آرژنین (%)": 4.5,
    "لیزین (%)": 5.5,
    "متیونین (%)": 2.2,
    "کلسیم (%)": 5.5,
    "فسفر (%)": 3.0,
    "سدیم (%)": 0.4,
    "کلر (%)": 0,
    "پتاسیم (%)": 0.9,
    "منیزیم (%)": 0.12,
    "مس (mg/kg)": 5,
    "گوگرد (%)": 0.3,
    "آهن (mg/kg)": 120,
    "منگنز (mg/kg)": 10,
    "سلنیوم (mg/kg)": 0.4,
    "روی (mg/kg)": 80,
    "ید (mg/kg)": 1.2,
    "کبالت (mg/kg)": 0.05,
    "C (mg/kg)": 50,
    "B7 (mg/kg)": 0.2,
    "B9 (mg/kg)": 1.5,
    "B3 (mg/kg)": 20,
    "B5 (mg/kg)": 10,
    "B6 (mg/kg)": 3.5,
    "B2 (mg/kg)": 2.5,
    "B1 (mg/kg)": 1.5,
    "B12 (mg/kg)": 0.02,
    "A (IU/kg)": 20000,
    "D (IU/kg)": 4000,
    "E (mg/kg)": 30,
    "K (mg/kg)": 1.5,
    "کولین (mg/kg)": 1000,
    "اینوزیتول (mg/kg)": 500,
    "مجموع n-3 (%)": 1.5,
    "جمع n-6 (%)": 0.5,
    "فسفولیپیدها (%)": 3,
    "کلسترول (mg/kg)": 150,

    },
    "آرد گندم": {
    "پروتئین خام (%)": 11,
    "لیپیدهای خام (%)": 1.5,
    "چربی خام (%)": 1.5,
    "فیبر خام (%)": 2.5,
    "خاکستر (%)": 0.5,
    "نشاسته (%)": 58/85,
    "انرژی ناخالص (kc/k)": 3000,
    "آرژنین (%)": 0,
    "لیزین (%)": 0.3,
    "متیونین (%)": 0.2,
    "کلسیم (%)": 0.02,
    "فسفر (%)": 0.12,
    "سدیم (%)": 0.01,
    "کلر (%)": 0,
    "پتاسیم (%)": 0.3,
    "منیزیم (%)": 0.04,
    "مس (mg/kg)": 0,
    "گوگرد (%)": 0,
    "آهن (mg/kg)": 4.32,
    "منگنز (mg/kg)": 0,
    "سلنیوم (mg/kg)": 0,
    "روی (mg/kg)": 0,
    "ید (mg/kg)": 0,
    "کبالت (mg/kg)": 0,
    "ویتامین C (mg/kg)": 15,
    "بیوتین-B7 (mg/kg)": 0,
    "اسید فولیک-B9 (mg/kg)": 0,
    "نیاسین-B3 (mg/kg)": 3.5,
    "پانتوتنیک اسید-B5 (mg/kg)": 0.8,
    "پیریدوکسین-B6 (mg/kg)": 0,
    "ریبوفلاوین-B2 (mg/kg)": 0.1,
    "تیامین-B1 (mg/kg)": 0.05,
    "ویتامین B12 (mg/kg)": 0,
    "ویتامین A (IU/kg)": 0,
    "ویتامین D (IU/kg)": 0,
    "ویتامین E (mg/kg)": 0.5,
    "ویتامین K (mg/kg)": 0,
    "کولین (mg/kg)": 0,
    "اینوزیتول (mg/kg)": 0,
    "مجموع n-3 (%)": 0,
    "جمع n-6 (%)": 0,
    "فسفولیپیدها (%)": 0,
    "کلسترول (mg/kg)": 0,
    },
        "پودر گوشت 50 درصد": {
        "پروتئین خام (%)": 50.2,
        "لیپیدهای خام (%)": 10.01,
        "چربی خام (%)": 10,
        "فیبر خام (%)": 2.32,
        "خاکستر (%)": 30.51,
        "نشاسته (%)": 0,
        "انرژی ناخالص (kc/k)": 3881.45,
        "آرژنین (%)": 3.37,
        "هیستیدین (%)": 1.01,
        "ایزولوسین (%)": 1.74,
        "لوسین (%)": 4.03,
        "لیزین (%)": 3.484,
        "متیونین (%)": 0.98,
        "فنیل آلانین (%)": 1.91,
        "ترئونین (%)": 1.8,
        "تریپتوفان (%)": 0.772,
        "والین (%)": 2.652,
        "سیستین (%)": 0.71,
        "تیروزین (%)": 1.559,
        "Phe+Tyr (%)": 3.469,
        "گلوتامیک (%)": 6.837,
        "آسپارتیک (%)": 3.71,
        "گلیسین (%)": 6.38,
        "سرین (%)": 2.01,
        "آلانین (%)": 3.82,
        "تائورین (%)": 0.04,
        "کلسیم (%)": 9.598,
        "فسفر (%)": 4.839,
        "سدیم (%)": 0.51,
        "کلر (%)": 0.54,
        "پتاسیم (%)": 1.4,
        "منیزیم (%)": 0.65,
        "گوگرد (%)": 0.34,
        "مس (mg/kg)": 10.5,
        "آهن (mg/kg)": 438,
        "منگنز (mg/kg)": 16.77,
        "سلنیوم (mg/kg)": 0.21,
        "روی (mg/kg)": 93,
        "ید (mg/kg)": 0,
        "کبالت (mg/kg)": 0.002,
        "B7 (mg/kg)": 0.11,
        "B9 (mg/kg)": 0.51,
        "B3 (mg/kg)": 54.2,
        "B5 (mg/kg)": 4.25,
        "B6 (mg/kg)": 4.6,
        "B2 (mg/kg)": 4.95,
        "B1 (mg/kg)": 0.3,
        "B12 (mg/kg)": 0.05,
        "C (mg/kg)": 0,
        "A (mg/kg)": 16666.667,
        "D (ug/kg)": 200,
        "E (mg/kg)": 0.89,
        "K (mg/kg)": 1,
        "Choline (mg/kg)": 1998,
        "Inositol (mg/kg)": 100,
        "مجموع n-3 (%)": 0.111,
        "جمع n-6 (%)": 1.134,
        "فسفولیپیدها (%)": 2,
        "کلسترول (mg/kg)": 1000,
    },
    "گلوتن ذرت 40 درصد": {
    "پروتئین خام (%)": 40,
    "لیپیدهای خام (%)": 2.5,
    "چربی خام (%)": 2.5,
    "فیبر خام (%)": 3.5,
    "خاکستر (%)": 1.0,
    "نشاسته (%)": 11/5,
    "انرژی ناخالص (kc/k)": 3600,
    "آرژنین (%)": 0.5,
    "لیزین (%)": 0.6,
    "متیونین (%)": 0.5,
    "کلسیم (%)": 0.01,
    "فسفر (%)": 0.15,
    "سدیم (%)": 0.01,
    "کلر (%)": 0,
    "پتاسیم (%)": 0.2,
    "منیزیم (%)": 0.02,
    "مس (mg/kg)": 0,
    "گوگرد (%)": 0,
    "آهن (mg/kg)": 7.7,
    "منگنز (mg/kg)": 0,
    "سلنیوم (mg/kg)": 0,
    "روی (mg/kg)": 0,
    "ید (mg/kg)": 0,
    "کبالت (mg/kg)": 0,
    "C (mg/kg)": 10,
    "B7 (mg/kg)": 0,
    "B9 (mg/kg)": 0,
    "B3 (mg/kg)": 1.2,
    "B5 (mg/kg)": 0.5,
    "B6 (mg/kg)": 0,
    "B2 (mg/kg)": 0.1,
    "B1 (mg/kg)": 0.02,
    "B12 (mg/kg)": 0,
    "A (IU/kg)": 800,
    "D (IU/kg)": 400,
    "E (mg/kg)": 5,
    "K (mg/kg)": 0,
    "کولین (mg/kg)": 0,
    "اینوزیتول (mg/kg)": 0,
    "مجموع n-3 (%)": 0,
    "جمع n-6 (%)": 0,
    "فسفولیپیدها (%)": 0,
    "کلسترول (mg/kg)": 0,

    },
        "گلوتن ذرت 50 درصد": {
        "پروتئین خام (%)": 51.3,
        "لیپیدهای خام (%)": 7.8,
        "فیبر خام (%)": 2.1,
        "خاکستر (%)": 2,
        "نشاسته (%)": 13.1,
        "انرژی ناخالص (kc/k)": 4844.65,
        "آرژنین (%)": 1.54,
        "هیستیدین (%)": 1.03,
        "ایزولوسین (%)": 2.05,
        "لوسین (%)": 8.16,
        "لیزین (%)": 0.87,
        "متیونین (%)": 1.23,
        "فنیل آلانین (%)": 3.13,
        "ترئونین (%)": 1.69,
        "تریپتوفان (%)": 0.26,
        "والین (%)": 2.31,
        "سیستین (%)": 0.92,
        "تیروزین (%)": 2.46,
        "Phe+Tyr (%)": 5.59,
        "گلوتامیک (%)": 10.31,
        "آسپارتیک (%)": 2.98,
        "گلیسین (%)": 1.28,
        "سرین (%)": 2.51,
        "آلانین (%)": 4.36,
        "تائورین (%)": 0,
        "کلسیم (%)": 0.06,
        "فسفر (%)": 0.42,
        "سدیم (%)": 0.02,
        "کلر (%)": 0.05,
        "پتاسیم (%)": 0.07,
        "منیزیم (%)": 0.06,
        "گوگرد (%)": 0.5,
        "مس (mg/kg)": 10,
        "آهن (mg/kg)": 332,
        "منگنز (mg/kg)": 7.8,
        "سلنیوم (mg/kg)": 2,
        "روی (mg/kg)": 49,
        "ید (mg/kg)": 0.05,
        "کبالت (mg/kg)": 0,
        "B7 (mg/kg)": 0.19,
        "B9 (mg/kg)": 0.3,
        "B3 (mg/kg)": 49.8,
        "B5 (mg/kg)": 10,
        "B6 (mg/kg)": 7.97,
        "B2 (mg/kg)": 1.5,
        "B1 (mg/kg)": 0.22,
        "B12 (mg/kg)": 0.05,
        "C (mg/kg)": 0,
        "A (mg/kg)": 266.667,
        "D (ug/kg)": 0,
        "E (mg/kg)": 21.74,
        "K (mg/kg)": 0.2,
        "Choline (mg/kg)": 360,
        "Inositol (mg/kg)": 270.22,
        "مجموع n-3 (%)": 0.061,
        "جمع n-6 (%)": 5.027,
        "فسفولیپیدها (%)": 0.02,
        "کلسترول (mg/kg)": 571.35,
    },
      "گلوتن گندم 78 درصد": {
        "پروتئین خام (%)": 78.17,
        "لیپیدهای خام (%)": 2.4,
        "فیبر خام (%)": 0.43,
        "خاکستر (%)": 0.73,
        "نشاسته (%)": 1.5,
        "انرژی ناخالص (kc/k)": 5014.34,
        "آرژنین (%)": 3.09,
        "هیستیدین (%)": 1.72,
        "ایزولوسین (%)": 2.93,
        "لوسین (%)": 5.66,
        "لیزین (%)": 2.16,
        "متیونین (%)": 1.35,
        "فنیل آلانین (%)": 4.13,
        "ترئونین (%)": 1.99,
        "تریپتوفان (%)": 0.77,
        "والین (%)": 3.25,
        "سیستین (%)": 1.56,
        "تیروزین (%)": 2.36,
        "Phe+Tyr (%)": 6.49,
        "گلوتامیک (%)": 28,
        "آسپارتیک (%)": 2.46,
        "گلیسین (%)": 2.54,
        "سرین (%)": 3.84,
        "آلانین (%)": 1.98,
        "تائورین (%)": 0,
        "کلسیم (%)": 0.1,
        "فسفر (%)": 0.24,
        "سدیم (%)": 0.057,
        "کلر (%)": 0.05,
        "پتاسیم (%)": 0.12,
        "منیزیم (%)": 0.03,
        "گوگرد (%)": 0.1,
        "مس (mg/kg)": 20.91,
        "آهن (mg/kg)": 45.5,
        "منگنز (mg/kg)": 15,
        "سلنیوم (mg/kg)": 0.4,
        "روی (mg/kg)": 50,
        "ید (mg/kg)": 0.06,
        "کبالت (mg/kg)": 0,
        "B7 (mg/kg)": 0.3,
        "B9 (mg/kg)": 1,
        "B3 (mg/kg)": 100,
        "B5 (mg/kg)": 16,
        "B6 (mg/kg)": 5,
        "B2 (mg/kg)": 2.5,
        "B1 (mg/kg)": 15,
        "B12 (mg/kg)": 0,
        "C (mg/kg)": 0,
        "A (mg/kg)": 266.667,
        "D (ug/kg)": 0,
        "E (mg/kg)": 37.22,
        "K (mg/kg)": 0.05,
        "Choline (mg/kg)": 1500,
        "Inositol (mg/kg)": 142.68,
        "مجموع n-3 (%)": 0.133,
        "جمع n-6 (%)": 1.653,
        "فسفولیپیدها (%)": 0.16,
        "کلسترول (mg/kg)": 800,
    },
        "پودر خون": {
        "پروتئین خام (%)": 80.0,
        "لیپیدهای خام (%)": 1.5,
        "چربی خام (%)": 1.5,
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 5.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 3600,
        "آرژنین (%)": 4.0,
        "لیزین (%)": 8.0,
        "متیونین (%)": 0.5,
        "کلسیم (%)": 0.02,
        "فسفر (%)": 0.3,
        "سدیم (%)": 0.8,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.15,
        "منیزیم (%)": 0.01,
        "مس (mg/kg)": 10.0,
        "گوگرد (%)": 0.2,
        "آهن (mg/kg)": 1500.0,
        "منگنز (mg/kg)": 0.0,
        "سلنیوم (mg/kg)": 0.5,
        "روی (mg/kg)": 20.0,
        "ید (mg/kg)": 0.0,
        "کبالت (mg/kg)": 0.0,
        "C (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 1.0,
        "B3 (mg/kg)": 2.0,
        "B5 (mg/kg)": 0.5,
        "B6 (mg/kg)": 1.0,
        "B2 (mg/kg)": 0.5,
        "B1 (mg/kg)": 0.3,
        "B12 (mg/kg)": 0.02,
        "A (IU/kg)": 0.0,
        "D (IU/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "کولین (mg/kg)": 0.0,
        "اینوزیتول (mg/kg)": 0.0
    },
        "پودر پر": {
        "پروتئین خام (%)": 80.0,
        "لیپیدهای خام (%)": 2.5,
        "چربی خام (%)": 2.5,
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 4.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 3100,
        "آرژنین (%)": 3.5,
        "لیزین (%)": 2.0,
        "متیونین (%)": 0.7,
        "کلسیم (%)": 0.3,
        "فسفر (%)": 0.5,
        "سدیم (%)": 0.4,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.1,
        "منیزیم (%)": 0.02,
        "مس (mg/kg)": 5.0,
        "گوگرد (%)": 0.3,
        "آهن (mg/kg)": 150.0,
        "منگنز (mg/kg)": 50.0,
        "سلنیوم (mg/kg)": 0.3,
        "روی (mg/kg)": 60.0,
        "ید (mg/kg)": 0.0,
        "کبالت (mg/kg)": 0.0,
        "C (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 0.0,
        "B3 (mg/kg)": 1.0,
        "B5 (mg/kg)": 0.5,
        "B6 (mg/kg)": 0.2,
        "B2 (mg/kg)": 0.1,
        "B1 (mg/kg)": 0.1,
        "B12 (mg/kg)": 0.01,
        "A (IU/kg)": 0.0,
        "D (IU/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "کولین (mg/kg)": 0.0,
        "اینوزیتول (mg/kg)": 0.0
    },
        "ضایعات جوجه کشی": {
        "پروتئین خام (%)": 40.0,
        "لیپیدهای خام (%)": 15.0,
        "چربی خام (%)": 15.0,
        "فیبر خام (%)": 2.0,
        "خاکستر (%)": 20.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 2500,
        "آرژنین (%)": 1.8,
        "لیزین (%)": 2.0,
        "متیونین (%)": 0.6,
        "کلسیم (%)": 6.0,
        "فسفر (%)": 3.5,
        "سدیم (%)": 0.3,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.2,
        "منیزیم (%)": 0.1,
        "مس (mg/kg)": 10.0,
        "گوگرد (%)": 0.2,
        "آهن (mg/kg)": 180.0,
        "منگنز (mg/kg)": 40.0,
        "سلنیوم (mg/kg)": 0.2,
        "روی (mg/kg)": 50.0,
        "ید (mg/kg)": 0.0,
        "کبالت (mg/kg)": 0.0,
        "C (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 0.0,
        "B3 (mg/kg)": 1.0,
        "B5 (mg/kg)": 0.5,
        "B6 (mg/kg)": 0.2,
        "B2 (mg/kg)": 0.1,
        "B1 (mg/kg)": 0.1,
        "B12 (mg/kg)": 0.03,
        "A (IU/kg)": 0.0,
        "D (IU/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "کولین (mg/kg)": 0.0,
        "اینوزیتول (mg/kg)": 0.0
    },
        "زرده تخم مرغ": {
        "پروتئین خام (%)": 16.0,
        "لیپیدهای خام (%)": 32.0,
        "چربی خام (%)": 32.0,
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 2.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 3700,
        "آرژنین (%)": 1.2,
        "لیزین (%)": 0.9,
        "متیونین (%)": 0.4,
        "کلسیم (%)": 0.1,
        "فسفر (%)": 0.7,
        "سدیم (%)": 0.1,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.1,
        "منیزیم (%)": 0.05,
        "مس (mg/kg)": 5.0,
        "گوگرد (%)": 0.2,
        "آهن (mg/kg)": 7.0,
        "منگنز (mg/kg)": 0.0,
        "سلنیوم (mg/kg)": 0.3,
        "روی (mg/kg)": 5.0,
        "ید (mg/kg)": 0.02,
        "کبالت (mg/kg)": 0.0,
        "C (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.05,
        "B9 (mg/kg)": 0.2,
        "B3 (mg/kg)": 0.1,
        "B5 (mg/kg)": 0.4,
        "B6 (mg/kg)": 0.1,
        "B2 (mg/kg)": 0.3,
        "B1 (mg/kg)": 0.2,
        "B12 (mg/kg)": 0.01,
        "A (IU/kg)": 3000,
        "D (IU/kg)": 50,
        "E (mg/kg)": 10.0,
        "K (mg/kg)": 0.3,
        "کولین (mg/kg)": 2500.0,
        "اینوزیتول (mg/kg)": 0.0
    },
     "روغن سویا": {
        "پروتئین خام (%)": 0,
        "لیپیدهای خام (%)": 99,
        "فیبر خام (%)": 0,
        "خاکستر (%)": 0,
        "نشاسته (%)": 0,
        "انرژی ناخالص (kc/k)": 9228.01,
        "آرژنین (%)": 0,
        "هیستیدین (%)": 0,
        "ایزولوسین (%)": 0,
        "لوسین (%)": 0,
        "لیزین (%)": 0,
        "متیونین (%)": 0,
        "فنیل آلانین (%)": 0,
        "ترئونین (%)": 0,
        "تریپتوفان (%)": 0,
        "والین (%)": 0,
        "سیستین (%)": 0,
        "تیروزین (%)": 0,
        "گلوتامیک (%)": 0,
        "آسپارتیک (%)": 0,
        "گلیسین (%)": 0,
        "سرین (%)": 0,
        "آلانین (%)": 0,
        "تائورین (%)": 0,
        "کلسیم (%)": 0,
        "فسفر (%)": 0,
        "سدیم (%)": 0,
        "کلر (%)": 0,
        "پتاسیم (%)": 0,
        "منیزیم (%)": 0,
        "گوگرد (%)": 0,
        "مس (mg/kg)": 0,
        "آهن (mg/kg)": 0,
        "منگنز (mg/kg)": 0,
        "سلنیوم (mg/kg)": 0,
        "روی (mg/kg)": 0,
        "ید (mg/kg)": 0.05,
        "کبالت (mg/kg)": 0,
        "B7 (mg/kg)": 0,
        "B9 (mg/kg)": 0,
        "B3 (mg/kg)": 0,
        "B5 (mg/kg)": 0,
        "B6 (mg/kg)": 0,
        "B2 (mg/kg)": 0,
        "B1 (mg/kg)": 0,
        "B12 (mg/kg)": 0,
        "C (mg/kg)": 0,
        "A (mg/kg)": 0,
        "D (ug/kg)": 0,
        "E (mg/kg)": 61.04,
        "K (mg/kg)": 0.18,
        "Choline (mg/kg)": 2,
        "Inositol (mg/kg)": 0,
        "مجموع n-3 (%)": 7.557,
        "جمع n-6 (%)": 56.672,
        "فسفولیپیدها (%)": 1.08,
        "کلسترول (mg/kg)": 2460,
    },
    "لیسیتین": {
        "پروتئین خام (%)": 0,
        "لیپیدهای خام (%)": 60,
        "چربی خام (%)": 60,
        "فیبر خام (%)": 0,
        "خاکستر (%)": 0.2,
        "انرژی ناخالص (kc/k)": 8000,
        "آرژنین (%)": 0,
        "لیزین (%)": 0,
        "متیونین (%)": 0,
        "کلسیم (%)": 0.01,
        "فسفر (%)": 0.02,
        "سدیم (%)": 0,
        "کلر (%)": 0,
        "پتاسیم (%)": 0,
        "منیزیم (%)": 0,
        "مس (mg/kg)": 0,
        "گوگرد (%)": 0,
        "آهن (mg/kg)": 0,
        "منگنز (mg/kg)": 0,
        "سلنیوم (mg/kg)": 0,
        "روی (mg/kg)": 0,
        "ید (mg/kg)": 0,
        "کبالت (mg/kg)": 0,
        "C (mg/kg)": 0,
        "B7 (mg/kg)": 0,
        "B9 (mg/kg)": 0,
        "B3 (mg/kg)": 0,
        "B5 (mg/kg)": 0,
        "B6 (mg/kg)": 0,
        "B2 (mg/kg)": 0,
        "B1 (mg/kg)": 0,
        "B12 (mg/kg)": 0,
        "A (IU/kg)": 0,
        "D (IU/kg)": 0,
        "E (mg/kg)": 10,
        "K (mg/kg)": 0,
        "کولین (mg/kg)": 0,
        "اینوزیتول (mg/kg)": 0,
        "مجموع n-3 (%)": 0,
        "جمع n-6 (%)": 0,
        "فسفولیپیدها (%)": 2.5,
        "کلسترول (mg/kg)": 100,
    },
        "روغن ماهی": {
        "پروتئین خام (%)": 0.0,
        "لیپیدهای خام (%)": 99.9,
        "چربی خام (%)": 99.9,
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 0.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 9000,
        "آرژنین (%)": 0.0,
        "لیزین (%)": 0.0,
        "متیونین (%)": 0.0,
        "کلسیم (%)": 0.0,
        "فسفر (%)": 0.0,
        "سدیم (%)": 0.0,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.0,
        "منیزیم (%)": 0.0,
        "مس (mg/kg)": 0.0,
        "گوگرد (%)": 0.0,
        "آهن (mg/kg)": 0.0,
        "منگنز (mg/kg)": 0.0,
        "سلنیوم (mg/kg)": 0.0,
        "روی (mg/kg)": 0.0,
        "ید (mg/kg)": 0.0,
        "کبالت (mg/kg)": 0.0,
        "C (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 0.0,
        "B3 (mg/kg)": 0.0,
        "B5 (mg/kg)": 0.0,
        "B6 (mg/kg)": 0.0,
        "B2 (mg/kg)": 0.0,
        "B1 (mg/kg)": 0.0,
        "B12 (mg/kg)": 0.0,
        "A (IU/kg)": 0.0,
        "D (IU/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "کولین (mg/kg)": 0.0,
        "اینوزیتول (mg/kg)": 0.0
    },
        "دی کلسیوم فسفات": {
        "پروتئین خام (%)": 0,
        "لیپیدهای خام (%)": 0,
        "فیبر خام (%)": 0,
        "خاکستر (%)": 99,
        "نشاسته (%)": 0,
        "انرژی ناخالص (kc/k)": 0,
        "آرژنین (%)": 0,
        "هیستیدین (%)": 0,
        "ایزولوسین (%)": 0,
        "لوسین (%)": 0,
        "لیزین (%)": 0,
        "متیونین (%)": 0,
        "فنیل آلانین (%)": 0,
        "ترئونین (%)": 0,
        "تریپتوفان (%)": 0,
        "والین (%)": 0,
        "سیستین (%)": 0,
        "تیروزین (%)": 0,
        "گلوتامیک (%)": 0,
        "آسپارتیک (%)": 0,
        "گلیسین (%)": 0,
        "سرین (%)": 0,
        "آلانین (%)": 0,
        "تائورین (%)": 0,
        "کلسیم (%)": 29.393,
        "فسفر (%)": 22.8,
        "سدیم (%)": 0,
        "کلر (%)": 0,
        "پتاسیم (%)": 0,
        "منیزیم (%)": 0,
        "گوگرد (%)": 0,
        "مس (mg/kg)": 0,
        "آهن (mg/kg)": 0,
        "منگنز (mg/kg)": 0,
        "سلنیوم (mg/kg)": 0,
        "روی (mg/kg)": 0,
        "ید (mg/kg)": 0,
        "کبالت (mg/kg)": 0,
        "B7 (mg/kg)": 0,
        "B9 (mg/kg)": 0,
        "B3 (mg/kg)": 0,
        "B5 (mg/kg)": 0,
        "B6 (mg/kg)": 0,
        "B2 (mg/kg)": 0,
        "B1 (mg/kg)": 0,
        "B12 (mg/kg)": 0,
        "C (mg/kg)": 0,
        "A (mg/kg)": 0,
        "D (ug/kg)": 0,
        "E (mg/kg)": 0,
        "K (mg/kg)": 0,
        "Choline (mg/kg)": 0,
        "Inositol (mg/kg)": 0,
        "مجموع n-3 (%)": 0,
        "جمع n-6 (%)": 0,
        "فسفولیپیدها (%)": 0,
        "کلسترول (mg/kg)": 0,
    },
        "مخلوط ویتامینه  میگو": {
        "پروتئین خام (%)": 12.6,
        "لیپیدهای خام (%)": 2.4,
        "فیبر خام (%)": 5.6,
        "خاکستر (%)": 2.9,
        "نشاسته (%)": 25.25,
        "انرژی ناخالص (kc/k)": 4189.77,
        "آرژنین (%)": 0.0,
        "هیستیدین (%)": 0.0,
        "ایزولوسین (%)": 0.0,
        "لوسین (%)": 0.0,
        "لیزین (%)": 0.0,
        "متیونین (%)": 0.0,
        "فنیل آلانین (%)": 0.0,
        "ترئونین (%)": 0.0,
        "تریپتوفان (%)": 0.0,
        "والین (%)": 0.0,
        "سیستین (%)": 0.0,
        "TSAA Met+Cys (%)": 0.0,
        "تیروزین (%)": 0.0,
        "Phe+Tyr (%)": 0.0,
        "گلوتامیک (%)": 0.0,
        "آسپارتیک (%)": 0.0,
        "گلیسین (%)": 0.0,
        "سرین (%)": 0.0,
        "آلانین (%)": 0.0,
        "تائورین (%)": 0.0,
        "کلسیم (%)": 0.088,
        "فسفر (%)": 1.048,
        "سدیم (%)": 0.0,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.0,
        "منیزیم (%)": 0.0,
        "گوگرد (%)": 0.0,
        "مس (mg/kg)": 0.0,
        "آهن (mg/kg)": 0.0,
        "منگنز (mg/kg)": 0.0,
        "سلنیوم (mg/kg)": 0.0,
        "روی (mg/kg)": 0.0,
        "ید (mg/kg)": 0.0,
        "کبالت (mg/kg)": 0.0,
        "B7 (mg/kg)": 750.0,
        "B9 (mg/kg)": 2500.0,
        "B3 (mg/kg)": 50000.0,
        "B5 (mg/kg)": 25000.0,
        "B6 (mg/kg)": 20000.0,
        "B2 (mg/kg)": 12500.0,
        "B1 (mg/kg)": 15000.0,
        "B12 (mg/kg)": 4.0,
        "C (mg/kg)": 0.0,
        "A (mg/kg)": 2000000.0,
        "D (ug/kg)": 1000000.0,
        "E (mg/kg)": 50000.0,
        "K (mg/kg)": 20000.0,
        "Choline (mg/kg)": 0.0,
        "Inositol (mg/kg)": 0.0,
        "مجموع n-3 (%)": 0.0,
        "جمع n-6 (%)": 0.0,
        "فسفولیپیدها (%)": 0.0,
        "کلسترول (mg/kg)": 0.0
    },
        "مخلوط معدنی میگو": {
        "پروتئین خام (%)": 2.0,
        "لیپیدهای خام (%)": 0.32,
        "فیبر خام (%)": 0.2,
        "خاکستر (%)": 75.0,
        "نشاسته (%)": 12.0,
        "انرژی ناخالص (kc/k)": 860.42,
        "آرژنین (%)": 0.0,
        "هیستیدین (%)": 0.0,
        "ایزولوسین (%)": 0.0,
        "لوسین (%)": 0.0,
        "لیزین (%)": 0.0,
        "متیونین (%)": 0.0,
        "فنیل آلانین (%)": 0.0,
        "ترئونین (%)": 0.0,
        "تریپتوفان (%)": 0.0,
        "والین (%)": 0.0,
        "سیستین (%)": 0.0,
        "TSAA Met+Cys (%)": 0.0,
        "تیروزین (%)": 0.0,
        "Phe+Tyr (%)": 0.0,
        "گلوتامیک (%)": 0.0,
        "آسپارتیک (%)": 0.0,
        "گلیسین (%)": 0.0,
        "سرین (%)": 0.0,
        "آلانین (%)": 0.0,
        "تائورین (%)": 0.0,
        "کلسیم (%)": 0.015,
        "فسفر (%)": 0.015,
        "سدیم (%)": 0.0,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.0,
        "منیزیم (%)": 0.0,
        "گوگرد (%)": 0.0,
        "مس (mg/kg)": 20000.0,
        "آهن (mg/kg)": 40000.0,
        "منگنز (mg/kg)": 2000.0,
        "سلنیوم (mg/kg)": 280.0,
        "روی (mg/kg)": 40000.0,
        "ید (mg/kg)": 1500.0,
        "کبالت (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 0.0,
        "B3 (mg/kg)": 0.0,
        "B5 (mg/kg)": 0.0,
        "B6 (mg/kg)": 0.0,
        "B2 (mg/kg)": 0.0,
        "B1 (mg/kg)": 0.0,
        "B12 (mg/kg)": 0.0,
        "C (mg/kg)": 0.0,
        "A (mg/kg)": 0.0,
        "D (ug/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "Choline (mg/kg)": 0.0,
        "Inositol (mg/kg)": 0.0,
        "مجموع n-3 (%)": 0.0,
        "جمع n-6 (%)": 0.0,
        "فسفولیپیدها (%)": 0.0,
        "کلسترول (mg/kg)": 0.0
    },
        "ژلاتین": {
        "پروتئین خام (%)": 85.0,
        "لیپیدهای خام (%)": 0.0,
        "چربی خام (%)": 0.0,
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 2.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 3500,
        "آرژنین (%)": 8.0,
        "لیزین (%)": 0.02,
        "متیونین (%)": 0.01,
        "کلسیم (%)": 0.1,
        "فسفر (%)": 0.02,
        "سدیم (%)": 0.5,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.0,
        "منیزیم (%)": 0.01,
        "مس (mg/kg)": 0.0,
        "گوگرد (%)": 0.0,
        "آهن (mg/kg)": 10.0,
        "منگنز (mg/kg)": 0.0,
        "سلنیوم (mg/kg)": 0.0,
        "روی (mg/kg)": 0.0,
        "ید (mg/kg)": 0.0,
        "کبالت (mg/kg)": 0.0,
        "C (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 0.0,
        "B3 (mg/kg)": 0.0,
        "B5 (mg/kg)": 0.0,
        "B6 (mg/kg)": 0.0,
        "B2 (mg/kg)": 0.0,
        "B1 (mg/kg)": 0.0,
        "B12 (mg/kg)": 0.0,
        "A (IU/kg)": 0.0,
        "D (IU/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "کولین (mg/kg)": 0.0,
        "اینوزیتول (mg/kg)": 0.0
    },
        "Vitamin C Phosphate 35%": {
        "پروتئین خام (%)": 0.0,
        "لیپیدهای خام (%)": 0.0,
        "چربی خام (%)": 0.0,
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 0.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 0.0,
        "آرژنین (%)": 0.0,
        "لیزین (%)": 0.0,
        "متیونین (%)": 0.0,
        "کلسیم (%)": 0.0,
        "فسفر (%)": 0.0,
        "سدیم (%)": 0.0,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.0,
        "منیزیم (%)": 0.0,
        "مس (mg/kg)": 0.0,
        "گوگرد (%)": 0.0,
        "آهن (mg/kg)": 0.0,
        "منگنز (mg/kg)": 0.0,
        "سلنیوم (mg/kg)": 0.0,
        "روی (mg/kg)": 0.0,
        "ید (mg/kg)": 0.0,
        "کبالت (mg/kg)": 0.0,
        "C (mg/kg)": 350000.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 0.0,
        "B3 (mg/kg)": 0.0,
        "B5 (mg/kg)": 0.0,
        "B6 (mg/kg)": 0.0,
        "B2 (mg/kg)": 0.0,
        "B1 (mg/kg)": 0.0,
        "B12 (mg/kg)": 0.0,
        "A (IU/kg)": 0.0,
        "D (IU/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "کولین (mg/kg)": 0.0,
        "اینوزیتول (mg/kg)": 0.0
    },
        "جوش شیرین": {
        "پروتئین خام (%)": 0.0,
        "لیپیدهای خام (%)": 0.0,
        "چربی خام (%)": 0.0,
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 0.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 0.0,
        "آرژنین (%)": 0.0,
        "لیزین (%)": 0.0,
        "متیونین (%)": 0.0,
        "کلسیم (%)": 0.0,
        "فسفر (%)": 0.0,
        "سدیم (%)": 27.3,  # Sodium content from baking soda
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.0,
        "منیزیم (%)": 0.0,
        "مس (mg/kg)": 0.0,
        "گوگرد (%)": 0.0,
        "آهن (mg/kg)": 0.0,
        "منگنز (mg/kg)": 0.0,
        "سلنیوم (mg/kg)": 0.0,
        "روی (mg/kg)": 0.0,
        "ید (mg/kg)": 0.0,
        "کبالت (mg/kg)": 0.0,
        "C (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 0.0,
        "B3 (mg/kg)": 0.0,
        "B5 (mg/kg)": 0.0,
        "B6 (mg/kg)": 0.0,
        "B2 (mg/kg)": 0.0,
        "B1 (mg/kg)": 0.0,
        "B12 (mg/kg)": 0.0,
        "A (IU/kg)": 0.0,
        "D (IU/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "کولین (mg/kg)": 0.0,
        "اینوزیتول (mg/kg)": 0.0
    },
     "اسید فایر": {
        "پروتئین خام (%)": 0.0,
        "لیپیدهای خام (%)": 0.0,
        "چربی خام (%)": 0.0,
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 0.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 0.0,
        "آرژنین (%)": 0.0,
        "لیزین (%)": 0.0,
        "متیونین (%)": 0.0,
        "کلسیم (%)": 0.0,
        "فسفر (%)": 0.0,
        "سدیم (%)": 0.0,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.0,
        "منیزیم (%)": 0.0,
        "مس (mg/kg)": 0.0,
        "گوگرد (%)": 0.0,
        "آهن (mg/kg)": 0.0,
        "منگنز (mg/kg)": 0.0,
        "سلنیوم (mg/kg)": 0.0,
        "روی (mg/kg)": 0.0,
        "ید (mg/kg)": 0.0,
        "کبالت (mg/kg)": 0.0,
        "C (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 0.0,
        "B3 (mg/kg)": 0.0,
        "B5 (mg/kg)": 0.0,
        "B6 (mg/kg)": 0.0,
        "B2 (mg/kg)": 0.0,
        "B1 (mg/kg)": 0.0,
        "B12 (mg/kg)": 0.0,
        "A (IU/kg)": 0.0,
        "D (IU/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "کولین (mg/kg)": 0.0,
        "اینوزیتول (mg/kg)": 0.0
    },
        "پریبیوتیک": {
        "پروتئین خام (%)": 55.0,  # مقدار تقریبی
        "لیپیدهای خام (%)": 2.0,  # مقدار تقریبی
        "چربی خام (%)": 2.0,  # مقدار تقریبی
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 2.0,  # مقدار تقریبی
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 0.0,
        "مانان‌الیگوساکارید (MOS) (%)": 20.0,  # ترکیب اصلی پریبیوتیک
        "بتا گلوکان (%)": 25.0,  # ترکیب تقویتی
        "لیزین (%)": 1.0,  # مقدار تقریبی
        "متیونین (%)": 0.5,  # مقدار تقریبی
        "کلسیم (%)": 0.3,  # مقدار تقریبی
        "فسفر (%)": 0.6,  # مقدار تقریبی
        "سدیم (%)": 0.0,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.2,  # مقدار تقریبی
        "منیزیم (%)": 0.1,  # مقدار تقریبی
        "مس (mg/kg)": 15.0,  # مقدار تقریبی
        "آهن (mg/kg)": 50.0,  # مقدار تقریبی
        "منگنز (mg/kg)": 30.0,  # مقدار تقریبی
        "سلنیوم (mg/kg)": 0.3,  # مقدار تقریبی
        "روی (mg/kg)": 60.0,  # مقدار تقریبی
        "C (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 0.0,
        "B3 (mg/kg)": 0.0,
        "B5 (mg/kg)": 0.0,
        "B6 (mg/kg)": 0.0,
        "B2 (mg/kg)": 0.0,
        "B1 (mg/kg)": 0.0,
        "B12 (mg/kg)": 0.0,
        "A (IU/kg)": 0.0,
        "D (IU/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "کولین (mg/kg)": 0.0,
        "اینوزیتول (mg/kg)": 0.0
    },
        "کنسانتره ویتامینه ماهی سی باس": {
        "پروتئین خام (%)": 0.0,
        "لیپیدهای خام (%)": 0.0,
        "چربی خام (%)": 0.0,
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 0.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 0.0,
        "آرژنین (%)": 0.0,
        "لیزین (%)": 0.0,
        "متیونین (%)": 0.0,
        "کلسیم (%)": 0.0,
        "فسفر (%)": 0.0,
        "سدیم (%)": 0.0,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.0,
        "منیزیم (%)": 0.0,
        "مس (mg/kg)": 0.0,
        "گوگرد (%)": 0.0,
        "آهن (mg/kg)": 0.0,
        "منگنز (mg/kg)": 0.0,
        "سلنیوم (mg/kg)": 0.5,
        "روی (mg/kg)": 0.0,
        "ید (mg/kg)": 0.0,
        "کبالت (mg/kg)": 0.0,
        "C (mg/kg)": 500.0,
        "B7 (mg/kg)": 10.0,
        "B9 (mg/kg)": 30.0,
        "B3 (mg/kg)": 200.0,
        "B5 (mg/kg)": 50.0,
        "B6 (mg/kg)": 20.0,
        "B2 (mg/kg)": 40.0,
        "B1 (mg/kg)": 30.0,
        "B12 (mg/kg)": 0.1,
        "A (IU/kg)": 500000,
        "D (IU/kg)": 100000,
        "E (mg/kg)": 300.0,
        "K (mg/kg)": 100.0,
        "کولین (mg/kg)": 10000.0,
        "اینوزیتول (mg/kg)": 2000.0
    },
        "کنسانتره معدنی سی باس": {
        "پروتئین خام (%)": 0.0,
        "لیپیدهای خام (%)": 0.0,
        "چربی خام (%)": 0.0,
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 50.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 0.0,
        "آرژنین (%)": 0.0,
        "لیزین (%)": 0.0,
        "متیونین (%)": 0.0,
        "کلسیم (%)": 24.0,
        "فسفر (%)": 18.0,
        "سدیم (%)": 2.0,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.5,
        "منیزیم (%)": 3.0,
        "مس (mg/kg)": 50.0,
        "گوگرد (%)": 0.0,
        "آهن (mg/kg)": 200.0,
        "منگنز (mg/kg)": 100.0,
        "سلنیوم (mg/kg)": 0.5,
        "روی (mg/kg)": 150.0,
        "ید (mg/kg)": 1.0,
        "کبالت (mg/kg)": 0.5,
        "C (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 0.0,
        "B3 (mg/kg)": 0.0,
        "B5 (mg/kg)": 0.0,
        "B6 (mg/kg)": 0.0,
        "B2 (mg/kg)": 0.0,
        "B1 (mg/kg)": 0.0,
        "B12 (mg/kg)": 0.0,
        "A (IU/kg)": 0.0,
        "D (IU/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "کولین (mg/kg)": 0.0,
        "اینوزیتول (mg/kg)": 0.0
    },
        "اینوزیتول": {
        "پروتئین خام (%)": 0.0,
        "لیپیدهای خام (%)": 0.0,
        "چربی خام (%)": 0.0,
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 0.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 0.0,
        "آرژنین (%)": 0.0,
        "لیزین (%)": 0.0,
        "متیونین (%)": 0.0,
        "کلسیم (%)": 0.0,
        "فسفر (%)": 0.0,
        "سدیم (%)": 0.0,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.0,
        "منیزیم (%)": 0.0,
        "مس (mg/kg)": 0.0,
        "گوگرد (%)": 0.0,
        "آهن (mg/kg)": 0.0,
        "منگنز (mg/kg)": 0.0,
        "سلنیوم (mg/kg)": 0.0,
        "روی (mg/kg)": 0.0,
        "ید (mg/kg)": 0.0,
        "کبالت (mg/kg)": 0.0,
        "C (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 0.0,
        "B3 (mg/kg)": 0.0,
        "B5 (mg/kg)": 0.0,
        "B6 (mg/kg)": 0.0,
        "B2 (mg/kg)": 0.0,
        "B1 (mg/kg)": 0.0,
        "B12 (mg/kg)": 0.0,
        "A (IU/kg)": 0.0,
        "D (IU/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "کولین (mg/kg)": 0.0,
        "اینوزیتول (mg/kg)": 980000.0  # 98% خلوص معادل 980,000 mg/kg
    },
        "بتائین": {
        "پروتئین خام (%)": 0.0,
        "لیپیدهای خام (%)": 0.0,
        "چربی خام (%)": 0.0,
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 0.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 0.0,
        "آرژنین (%)": 0.0,
        "لیزین (%)": 0.0,
        "متیونین (%)": 0.0,
        "کلسیم (%)": 0.0,
        "فسفر (%)": 0.0,
        "سدیم (%)": 0.0,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.0,
        "منیزیم (%)": 0.0,
        "مس (mg/kg)": 0.0,
        "گوگرد (%)": 0.0,
        "آهن (mg/kg)": 0.0,
        "منگنز (mg/kg)": 0.0,
        "سلنیوم (mg/kg)": 0.0,
        "روی (mg/kg)": 0.0,
        "ید (mg/kg)": 0.0,
        "کبالت (mg/kg)": 0.0,
        "C (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 0.0,
        "B3 (mg/kg)": 0.0,
        "B5 (mg/kg)": 0.0,
        "B6 (mg/kg)": 0.0,
        "B2 (mg/kg)": 0.0,
        "B1 (mg/kg)": 0.0,
        "B12 (mg/kg)": 0.0,
        "A (IU/kg)": 0.0,
        "D (IU/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "کولین (mg/kg)": 0.0,
        "اینوزیتول (mg/kg)": 0.0
    },
        "ال-آرژنین": {
        "پروتئین خام (%)": 98,
        "لیپیدهای خام (%)": 0,
        "فیبر خام (%)": 0,
        "خاکستر (%)": 0,
        "نشاسته (%)": 0,
        "انرژی ناخالص (kc/k)": 5528.2,
        "آرژنین (%)": 98,
        "هیستیدین (%)": 0,
        "ایزولوسین (%)": 0,
        "لوسین (%)": 0,
        "لیزین (%)": 0,
        "متیونین (%)": 0,
        "فنیل آلانین (%)": 0,
        "ترئونین (%)": 0,
        "تریپتوفان (%)": 0,
        "والین (%)": 0,
        "سیستین (%)": 0,
        "تیروزین (%)": 0,
        "گلوتامیک (%)": 0,
        "آسپارتیک (%)": 0,
        "گلیسین (%)": 0,
        "سرین (%)": 0,
        "آلانین (%)": 0,
        "تائورین (%)": 0,
        "کلسیم (%)": 0,
        "فسفر (%)": 0,
        "سدیم (%)": 0,
        "کلر (%)": 0,
        "پتاسیم (%)": 0,
        "منیزیم (%)": 0,
        "گوگرد (%)": 0,
        "مس (mg/kg)": 0,
        "آهن (mg/kg)": 0,
        "منگنز (mg/kg)": 0,
        "سلنیوم (mg/kg)": 0,
        "روی (mg/kg)": 0,
        "ید (mg/kg)": 0,
        "کبالت (mg/kg)": 0,
        "B7 (mg/kg)": 0,
        "B9 (mg/kg)": 0,
        "B3 (mg/kg)": 0,
        "B5 (mg/kg)": 0,
        "B6 (mg/kg)": 0,
        "B2 (mg/kg)": 0,
        "B1 (mg/kg)": 0,
        "B12 (mg/kg)": 0,
        "C (mg/kg)": 0,
        "A (mg/kg)": 0,
        "D (ug/kg)": 0,
        "E (mg/kg)": 0,
        "K (mg/kg)": 0,
        "Choline (mg/kg)": 0,
        "Inositol (mg/kg)": 0,
        "مجموع n-3 (%)": 0,
        "جمع n-6 (%)": 0,
        "فسفولیپیدها (%)": 0,
        "کلسترول (mg/kg)": 0
    },
    "ال-هیستیدین": {
        "پروتئین خام (%)": 98,
        "لیپیدهای خام (%)": 0,
        "فیبر خام (%)": 0,
        "خاکستر (%)": 0,
        "نشاسته (%)": 0,
        "انرژی ناخالص (kc/k)": 5528.2,
        "آرژنین (%)": 0,
        "هیستیدین (%)": 98,
        "ایزولوسین (%)": 0,
        "لوسین (%)": 0,
        "لیزین (%)": 0,
        "متیونین (%)": 0,
        "فنیل آلانین (%)": 0,
        "ترئونین (%)": 0,
        "تریپتوفان (%)": 0,
        "والین (%)": 0,
        "سیستین (%)": 0,
        "تیروزین (%)": 0,
        "گلوتامیک (%)": 0,
        "آسپارتیک (%)": 0,
        "گلیسین (%)": 0,
        "سرین (%)": 0,
        "آلانین (%)": 0,
        "تائورین (%)": 0,
        "کلسیم (%)": 0,
        "فسفر (%)": 0,
        "سدیم (%)": 0,
        "کلر (%)": 0,
        "پتاسیم (%)": 0,
        "منیزیم (%)": 0,
        "گوگرد (%)": 0,
        "مس (mg/kg)": 0,
        "آهن (mg/kg)": 0,
        "منگنز (mg/kg)": 0,
        "سلنیوم (mg/kg)": 0,
        "روی (mg/kg)": 0,
        "ید (mg/kg)": 0,
        "کبالت (mg/kg)": 0,
        "B7 (mg/kg)": 0,
        "B9 (mg/kg)": 0,
        "B3 (mg/kg)": 0,
        "B5 (mg/kg)": 0,
        "B6 (mg/kg)": 0,
        "B2 (mg/kg)": 0,
        "B1 (mg/kg)": 0,
        "B12 (mg/kg)": 0,
        "C (mg/kg)": 0,
        "A (mg/kg)": 0,
        "D (ug/kg)": 0,
        "E (mg/kg)": 0,
        "K (mg/kg)": 0,
        "Choline (mg/kg)": 0,
        "Inositol (mg/kg)": 0,
        "مجموع n-3 (%)": 0,
        "جمع n-6 (%)": 0,
        "فسفولیپیدها (%)": 0,
        "کلسترول (mg/kg)": 0
    },
    "ال-لیزین": {
        "پروتئین خام (%)": 99,
        "لیپیدهای خام (%)": 0,
        "فیبر خام (%)": 0,
        "خاکستر (%)": 0,
        "نشاسته (%)": 0,
        "انرژی ناخالص (kc/k)": 5583.17,
        "آرژنین (%)": 0,
        "هیستیدین (%)": 0,
        "ایزولوسین (%)": 0,
        "لوسین (%)": 0,
        "لیزین (%)": 82.616,
        "متیونین (%)": 0,
        "فنیل آلانین (%)": 0,
        "ترئونین (%)": 0,
        "تریپتوفان (%)": 0,
        "والین (%)": 0,
        "سیستین (%)": 0,
        "تیروزین (%)": 0,
        "گلوتامیک (%)": 0,
        "آسپارتیک (%)": 0,
        "گلیسین (%)": 0,
        "سرین (%)": 0,
        "آلانین (%)": 0,
        "تائورین (%)": 0,
        "کلسیم (%)": 0,
        "فسفر (%)": 0,
        "سدیم (%)": 0,
        "کلر (%)": 0,
        "پتاسیم (%)": 0,
        "منیزیم (%)": 0,
        "گوگرد (%)": 0,
        "مس (mg/kg)": 0,
        "آهن (mg/kg)": 0,
        "منگنز (mg/kg)": 0,
        "سلنیوم (mg/kg)": 0,
        "روی (mg/kg)": 0,
        "ید (mg/kg)": 0,
        "کبالت (mg/kg)": 0,
        "B7 (mg/kg)": 0,
        "B9 (mg/kg)": 0,
        "B3 (mg/kg)": 0,
        "B5 (mg/kg)": 0,
        "B6 (mg/kg)": 0,
        "B2 (mg/kg)": 0,
        "B1 (mg/kg)": 0,
        "B12 (mg/kg)": 0,
        "C (mg/kg)": 0,
        "A (mg/kg)": 0,
        "D (ug/kg)": 0,
        "E (mg/kg)": 0,
        "K (mg/kg)": 0,
        "Choline (mg/kg)": 0,
        "Inositol (mg/kg)": 0,
        "مجموع n-3 (%)": 0,
        "جمع n-6 (%)": 0,
        "فسفولیپیدها (%)": 0,
        "کلسترول (mg/kg)": 0
    },
        "متیونین": {
        "پروتئین خام (%)": 0.0,
        "لیپیدهای خام (%)": 0.0,
        "چربی خام (%)": 0.0,
        "فیبر خام (%)": 0.0,
        "خاکستر (%)": 0.0,
        "نشاسته (%)": 0.0,
        "انرژی ناخالص (kc/k)": 4000,  
        "آرژنین (%)": 0.0,
        "لیزین (%)": 0.0,
        "متیونین (%)": 99.0,  
        "کلسیم (%)": 0.0,
        "فسفر (%)": 0.0,
        "سدیم (%)": 0.0,
        "کلر (%)": 0.0,
        "پتاسیم (%)": 0.0,
        "منیزیم (%)": 0.0,
        "مس (mg/kg)": 0.0,
        "گوگرد (%)": 21.0,  
        "آهن (mg/kg)": 0.0,
        "منگنز (mg/kg)": 0.0,
        "سلنیوم (mg/kg)": 0.0,
        "روی (mg/kg)": 0.0,
        "ید (mg/kg)": 0.0,
        "کبالت (mg/kg)": 0.0,
        "C (mg/kg)": 0.0,
        "B7 (mg/kg)": 0.0,
        "B9 (mg/kg)": 0.0,
        "B3 (mg/kg)": 0.0,
        "B5 (mg/kg)": 0.0,
        "B6 (mg/kg)": 0.0,
        "B2 (mg/kg)": 0.0,
        "B1 (mg/kg)": 0.0,
        "B12 (mg/kg)": 0.0,
        "A (IU/kg)": 0.0,
        "D (IU/kg)": 0.0,
        "E (mg/kg)": 0.0,
        "K (mg/kg)": 0.0,
        "کولین (mg/kg)": 0.0,
        "اینوزیتول (mg/kg)": 0.0
    },
    "ال والین" : {
    "پروتئین خام (%)": 72,
    "لیپیدهای خام (%)": 0,
    "فیبر خام (%)": 0,
    "خاکستر (%)": 0,
    "نشاسته (%)": 0,
    "انرژی ناخالص (kc/k)": 5117.11,
    "آرژنین (%)": 0,
    "هیستیدین (%)": 0,
    "ایزولوسین (%)": 0,
    "لوسین (%)": 0,
    "لیزین (%)": 0,
    "متیونین (%)": 0,
    "فنیل آلانین (%)": 0,
    "ترئونین (%)": 0,
    "تریپتوفان (%)": 0,
    "والین (%)": 96.005,
    "سیستین (%)": 0,
    "تیروزین (%)": 0,
    "گلوتامیک (%)": 0,
    "آسپارتیک (%)": 0,
    "گلیسین (%)": 0,
    "سرین (%)": 0,
    "آلانین (%)": 0,
    "تائورین (%)": 0,
    "کلسیم (%)": 0,
    "فسفر (%)": 0,
    "سدیم (%)": 0,
    "کلر (%)": 0,
    "پتاسیم (%)": 0,
    "منیزیم (%)": 0,
    "گوگرد (%)": 0,
    "مس (mg/kg)": 0,
    "آهن (mg/kg)": 0,
    "منگنز (mg/kg)": 0,
    "سلنیوم (mg/kg)": 0,
    "روی (mg/kg)": 0,
    "ید (mg/kg)": 0,
    "کبالت (mg/kg)": 0,
    "B7 (mg/kg)": 0,
    "B9 (mg/kg)": 0,
    "B3 (mg/kg)": 0,
    "B5 (mg/kg)": 0,
    "B6 (mg/kg)": 0,
    "B2 (mg/kg)": 0,
    "B1 (mg/kg)": 0,
    "B12 (mg/kg)": 0,
    "C (mg/kg)": 0,
    "A (mg/kg)": 0,
    "D (ug/kg)": 0,
    "E (mg/kg)": 0,
    "K (mg/kg)": 0,
    "Choline (mg/kg)": 0,
    "Inositol (mg/kg)": 0,
    "مجموع n-3 (%)": 0,
    "جمع n-6 (%)": 0,
    "فسفولیپیدها (%)": 0,
    "کلسترول (mg/kg)": 0
},
"ال-ترئونین" : {
    "پروتئین خام (%)": 70.9,
    "لیپیدهای خام (%)": 0,
    "فیبر خام (%)": 0,
    "خاکستر (%)": 0,
    "نشاسته (%)": 0,
    "انرژی ناخالص (kc/k)": 5100.38,
    "آرژنین (%)": 0,
    "هیستیدین (%)": 0,
    "ایزولوسین (%)": 0,
    "لوسین (%)": 0,
    "لیزین (%)": 0,
    "متیونین (%)": 0,
    "فنیل آلانین (%)": 0,
    "ترئونین (%)": 95.995,
    "تریپتوفان (%)": 0,
    "والین (%)": 0,
    "سیستین (%)": 0,
    "تیروزین (%)": 0,
    
    "گلوتامیک (%)": 0,
    "آسپارتیک (%)": 0,
    "گلیسین (%)": 0,
    "سرین (%)": 0,
    "آلانین (%)": 0,
    "تائورین (%)": 0,
    "کلسیم (%)": 0,
    "فسفر (%)": 0,
    "سدیم (%)": 0,
    "کلر (%)": 0,
    "پتاسیم (%)": 0,
    "منیزیم (%)": 0,
    "گوگرد (%)": 0,
    "مس (mg/kg)": 0,
    "آهن (mg/kg)": 0,
    "منگنز (mg/kg)": 0,
    "سلنیوم (mg/kg)": 0,
    "روی (mg/kg)": 0,
    "ید (mg/kg)": 0,
    "کبالت (mg/kg)": 0,
    "B7 (mg/kg)": 0,
    "B9 (mg/kg)": 0,
    "B3 (mg/kg)": 0,
    "B5 (mg/kg)": 0,
    "B6 (mg/kg)": 0,
    "B2 (mg/kg)": 0,
    "B1 (mg/kg)": 0,
    "B12 (mg/kg)": 0,
    "C (mg/kg)": 0,
    "A (mg/kg)": 0,
    "D (ug/kg)": 0,
    "E (mg/kg)": 0,
    "K (mg/kg)": 0,
    "Choline (mg/kg)": 0,
    "Inositol (mg/kg)": 0,
    "مجموع n-3 (%)": 0,
    "جمع n-6 (%)": 0,
    "فسفولیپیدها (%)": 0,
    "کلسترول (mg/kg)": 0
},
"ال-تریپتوفان" : {
    "پروتئین خام (%)": 82.5,
    "لیپیدهای خام (%)": 0,
    "فیبر خام (%)": 0,
    "خاکستر (%)": 0,
    "نشاسته (%)": 0,
    "انرژی ناخالص (kc/k)": 5284.42,
    "آرژنین (%)": 0,
    "هیستیدین (%)": 0,
    "ایزولوسین (%)": 0,
    "لوسین (%)": 0,
    "لیزین (%)": 0,
    "متیونین (%)": 0,
    "فنیل آلانین (%)": 0,
    "ترئونین (%)": 0,
    "تریپتوفان (%)": 95.997,
    "والین (%)": 0,
    "سیستین (%)": 0,
    "تیروزین (%)": 0,
    
    "گلوتامیک (%)": 0,
    "آسپارتیک (%)": 0,
    "گلیسین (%)": 0,
    "سرین (%)": 0,
    "آلانین (%)": 0,
    "تائورین (%)": 0,
    "کلسیم (%)": 0,
    "فسفر (%)": 0,
    "سدیم (%)": 0,
    "کلر (%)": 0,
    "پتاسیم (%)": 0,
    "منیزیم (%)": 0,
    "گوگرد (%)": 0,
    "مس (mg/kg)": 0,
    "آهن (mg/kg)": 0,
    "منگنز (mg/kg)": 0,
    "سلنیوم (mg/kg)": 0,
    "روی (mg/kg)": 0,
    "ید (mg/kg)": 0,
    "کبالت (mg/kg)": 0,
    "B7 (mg/kg)": 0,
    "B9 (mg/kg)": 0,
    "B3 (mg/kg)": 0,
    "B5 (mg/kg)": 0,
    "B6 (mg/kg)": 0,
    "B2 (mg/kg)": 0,
    "B1 (mg/kg)": 0,
    "B12 (mg/kg)": 0,
    "C (mg/kg)": 0,
    "A (mg/kg)": 0,
    "D (ug/kg)": 0,
    "E (mg/kg)": 0,
    "K (mg/kg)": 0,
    "Choline (mg/kg)": 0,
    "Inositol (mg/kg)": 0,
    "مجموع n-3 (%)": 0,
    "جمع n-6 (%)": 0,
    "فسفولیپیدها (%)": 0,
    "کلسترول (mg/kg)": 0
}

}

species_data = {
    "Seabass 60-100g (Grower)": {
        "پروتئین خام (%)": 46,
        "لیپیدهای خام (%)": 13,
        "چربی خام (%)": 13,
        "فیبر خام (%)": 3,
        "خاکستر (%)": 10,
        "انرژی ناخالص (kc/k)": 3793,
        "نشاسته (%)": 14,
        "آرژنین (%)": 2.5,
        "لیزین (%)": 3.5,
        "متیونین (%)": 0.9,
        "کلسیم (%)": 1.0,
        "فسفر (%)": 0.8,
        "سدیم (%)": 0.5,
        "کلر (%)": 0.4,
        "پتاسیم (%)": 0.8,
        "منیزیم (%)": 0.2,
        "مس (mg/kg)": 10,
        "گوگرد (%)": 0.6,
        "آهن (mg/kg)": 120,
        "منگنز (mg/kg)": 15,
        "سلنیوم (mg/kg)": 0.2,
        "روی (mg/kg)": 80,
        "ید (mg/kg)": 0.3,
        "کبالت (mg/kg)": 0.1,
        "C (mg/kg)": 250,
        "B7 (mg/kg)": 0.05,
        "B9 (mg/kg)": 1.0,
        "B3 (mg/kg)": 20,
        "B5 (mg/kg)": 8,
        "B6 (mg/kg)": 2,
        "B2 (mg/kg)": 2,
        "B1 (mg/kg)": 1.5,
        "B12 (mg/kg)": 0.01,
        "A (IU/kg)": 8000,
        "D (IU/kg)": 2500,
        "E (mg/kg)": 70,
        "K (mg/kg)": 1.5,
        "کولین (mg/kg)": 2200,
        "اینوزیتول (mg/kg)": 1200
    }
    
}
def populate_default_materials():
    conn = sqlite3.connect(DB_FILE)
    cursor = conn.cursor()
    for name, data in default_materials_data.items():
        cursor.execute("""
        INSERT OR IGNORE INTO materials (name, data)
        VALUES (?, ?)
        """, (name, json.dumps(data, ensure_ascii=False)))
    conn.commit()
    conn.close()

# مقداردهی اولیه پایگاه داده و داده‌های پیش‌فرض
init_db()
populate_default_materials()

# بارگذاری مواد اولیه از پایگاه داده
materials_data = load_materials_from_db()

class DietCalculatorApp:
    def __init__(self, root):
        self.root = root
        self.root.title("محاسبه جیره غذایی")

        # ترتیب استاندارد پارامترها
        self.standard_order = [
            "پروتئین خام (%)",
            "لیپیدهای خام (%)",
            "چربی خام (%)",
            "فیبر خام (%)",
            "خاکستر (%)",
            "نشاسته (%)",
            "انرژی ناخالص (kc/k)",
            "آرژنین (%)",
            "لیزین (%)",
            "متیونین (%)",
            "کلسیم (%)",
            "فسفر (%)",
            "سدیم (%)",
            "کلر (%)",
            "پتاسیم (%)",
            "منیزیم (%)",
            "مس (mg/kg)",
            "گوگرد (%)",
            "آهن (mg/kg)",
            "منگنز (mg/kg)",
            "سلنیوم (mg/kg)",
            "روی (mg/kg)",
            "ید (mg/kg)",
            "کبالت (mg/kg)",
            "C (mg/kg)",
            "B7 (mg/kg)",
            "B9 (mg/kg)",
            "B3 (mg/kg)",
            "B5 (mg/kg)",
            "B6 (mg/kg)",
            "B2 (mg/kg)",
            "B1 (mg/kg)",
            "B12 (mg/kg)",
            "A (IU/kg)",
            "D (IU/kg)",
            "E (mg/kg)",
            "K (mg/kg)",
            "کولین (mg/kg)",
            "اینوزیتول (mg/kg)"
        ]

        tk.Label(root, text=reshape_text("گونه:")).grid(row=0, column=0, padx=5, pady=5)
        self.species_combobox = ttk.Combobox(root, values=["Seabass 60-100g (Grower)"])
        self.species_combobox.grid(row=0, column=1, padx=5, pady=5)
        self.species_combobox.set("")

        self.materials_frame = tk.Frame(root)
        self.materials_frame.grid(row=1, column=0, columnspan=2, padx=5, pady=5)
        self.materials_widgets = []
        self.add_material_row()

        tk.Button(root, text=reshape_text("اضافه کردن ماده اولیه"), command=self.add_material_row).grid(row=2, column=0, padx=5, pady=5)
        tk.Button(root, text=reshape_text("محاسبه جیره"), command=self.calculate_diet).grid(row=2, column=1, padx=5, pady=5)
        tk.Button(root, text=reshape_text("اضافه کردن ماده اولیه جدید"), command=self.open_add_material_window).grid(row=5, column=0, padx=5, pady=5)
        tk.Button(root, text=reshape_text("مدیریت مواد اولیه"), command=self.manage_materials_window).grid(row=5, column=1, padx=5, pady=5)

        self.results_table = ttk.Treeview(root, columns=("param", "calculated", "standard", "difference"), show="headings", height=15)
        self.results_table.grid(row=3, column=0, columnspan=2, padx=5, pady=5)
        self.results_table.heading("param", text=reshape_text("پارامتر"))
        self.results_table.heading("calculated", text=reshape_text("محاسبه‌شده"))
        self.results_table.heading("standard", text=reshape_text("استاندارد"))
        self.results_table.heading("difference", text=reshape_text("تفاوت"))

        self.results_table.tag_configure("less_than", foreground="red")
        self.results_table.tag_configure("greater_than", foreground="blue")

    def add_material_row(self):
        row = len(self.materials_widgets)
        material_combobox = ttk.Combobox(self.materials_frame, values=list(materials_data.keys()))
        material_combobox.grid(row=row, column=0, padx=5, pady=5)
        material_combobox.set(list(materials_data.keys())[0] if materials_data else "")

        percentage_entry = tk.Entry(self.materials_frame)
        percentage_entry.grid(row=row, column=1, padx=5, pady=5)
        percentage_entry.insert(0, "0")

        self.materials_widgets.append((material_combobox, percentage_entry))

    def open_add_material_window(self):
        add_window = tk.Toplevel(self.root)
        add_window.title("اضافه کردن ماده اولیه جدید")

        # ایجاد کانواس و اسکرول‌بار
        canvas = tk.Canvas(add_window)
        scrollbar = tk.Scrollbar(add_window, orient="vertical", command=canvas.yview)
        scrollable_frame = tk.Frame(canvas)

        scrollable_frame.bind(
            "<Configure>",
            lambda e: canvas.configure(scrollregion=canvas.bbox("all"))
        )

        canvas.create_window((0, 0), window=scrollable_frame, anchor="nw")
        canvas.configure(yscrollcommand=scrollbar.set)

        canvas.pack(side="left", fill="both", expand=True)
        scrollbar.pack(side="right", fill="y")

        tk.Label(scrollable_frame, text=reshape_text("نام ماده اولیه:")).grid(row=0, column=0, padx=5, pady=5)
        material_name_entry = tk.Entry(scrollable_frame, width=40)
        material_name_entry.grid(row=0, column=1, padx=5, pady=5)

        param_entries = {}
        for i, param in enumerate(self.standard_order):
            tk.Label(scrollable_frame, text=reshape_text(param + ":")).grid(row=i+1, column=0, padx=5, pady=2)
            entry = tk.Entry(scrollable_frame, width=20)
            entry.grid(row=i+1, column=1, padx=5, pady=2)
            param_entries[param] = entry

        def save_material():
            material_name = material_name_entry.get()
            if not material_name:
                messagebox.showerror("خطا", "لطفاً نام ماده اولیه را وارد کنید.")
                return

            try:
                new_material = {}
                for param, entry in param_entries.items():
                    value = entry.get()
                    new_material[param] = float(value) if value.strip() else 0.0

                save_material_to_db(material_name, new_material)
                materials_data[material_name] = new_material
                messagebox.showinfo("موفقیت", f"ماده '{material_name}' با موفقیت اضافه شد.")

                self.update_material_combobox()
                add_window.destroy()
            except ValueError:
                messagebox.showerror("خطا", "مقادیر وارد شده باید عددی باشند.")

        tk.Button(scrollable_frame, text=reshape_text("ذخیره"), command=save_material).grid(
            row=len(self.standard_order)+1, column=0, columnspan=2, pady=10
        )

    def manage_materials_window(self):
        manage_window = tk.Toplevel(self.root)
        manage_window.title("مدیریت مواد اولیه")

        materials_listbox = tk.Listbox(manage_window, width=50, height=20)
        materials_listbox.pack(side="left", fill="y", padx=10, pady=10)

        scrollbar = tk.Scrollbar(manage_window, orient="vertical", command=materials_listbox.yview)
        scrollbar.pack(side="right", fill="y")

        materials_listbox.config(yscrollcommand=scrollbar.set)

        for material in materials_data.keys():
            materials_listbox.insert("end", material)

        def delete_material():
            selected = materials_listbox.curselection()
            if not selected:
                messagebox.showerror("خطا", "لطفاً یک ماده را انتخاب کنید.")
                return

            material_name = materials_listbox.get(selected)
            delete_material_from_db(material_name)
            del materials_data[material_name]
            materials_listbox.delete(selected)
            self.update_material_combobox()
            messagebox.showinfo("موفقیت", f"ماده '{material_name}' حذف شد.")

        tk.Button(manage_window, text=reshape_text("حذف"), command=delete_material).pack(pady=5)

    def update_material_combobox(self):
        new_material_list = list(materials_data.keys())
        for combobox, _ in self.materials_widgets:
            combobox["values"] = new_material_list

    def calculate_diet(self):
        pass


if __name__ == "__main__":
    root = tk.Tk()
    app = DietCalculatorApp(root)
    root.mainloop()
